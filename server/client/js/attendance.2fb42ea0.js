"use strict";(self["webpackChunkstore_system"]=self["webpackChunkstore_system"]||[]).push([[779],{3756:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("main",[e("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),e("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[e("ThemifyIcon",{attrs:{icon:"menu"}}),e("h1",{staticClass:"ml-2"},[t._v("Attendance system")])],1),e("div",{staticClass:"grid grid-cols-3"},[e("div",{staticClass:"col-span-2"},[e("div",{staticClass:"overflow-x-auto relative"},[e("table",{staticClass:"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-4"},[t._m(0),t.attendanceList&&t.attendanceList.length>0?e("tbody",[t._l(t.attendanceList,(function(a){return t._l(a.data,(function(s,i){return e("tr",{key:i,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[e("td",{staticClass:"py-4 px-6"},[t._v(t._s(a.dateString))]),e("th",{staticClass:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",attrs:{scope:"row"}},[t._v(" "+t._s(s.userCode)+" ")]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(s.timeIn)))]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(s.timeOut)))]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.totalWorkTime))])])}))}))],2):t._e()]),t.attendanceList&&t.attendanceList.length<=0?e("div",{staticClass:"flex w-full justify-center p-8"},[e("h1",{},[t._v("Empty list, there is no data!")])]):t._e()])]),e("div",{staticClass:"px-2"},[e("div",{staticClass:"mb-8"},[e("div",{staticClass:"mb-4 flex items-center text-green-900 font-bold"},[e("ThemifyIcon",{attrs:{icon:"settings"}}),e("h1",{staticClass:"ml-2"},[t._v("Select the start and the end date for detail:")])],1),e("div",{staticClass:"grid grid-cols-2 bg-gray-200 rounded-md mt-5"},[e("div",{staticClass:"flex flex-col p-4"},[e("label",{staticClass:"mb-2 font-bold"},[t._v("Date Start:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],staticClass:"px-3 py-2 rounded-sm focus:outline-none",attrs:{type:"date",placeholder:"dd-mm-yyyy"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})]),e("div",{staticClass:"flex flex-col p-4"},[e("label",{staticClass:"mb-2 font-bold"},[t._v("Date End:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],staticClass:"px-3 py-2 rounded-sm focus:outline-none",attrs:{type:"date",placeholder:"dd-mm-yyyy"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})])]),e("button",{staticClass:"text-white py-2 w-full my-4 rounded-md transition-all",class:{"bg-blue-400 hover:bg-blue-500 cursor-pointer":t.startDate&&t.endDate,"bg-gray-400 cursor-default":!t.startDate||!t.endDate},on:{click:t.getAttendanceHandler}},[t._v(" Confirm ")])]),e("div",{staticClass:"flex flex-col mt-4 mb-8"},[e("div",{staticClass:"mb-4 flex items-center text-green-900 font-bold"},[e("ThemifyIcon",{attrs:{icon:"settings"}}),e("h1",{staticClass:"ml-2"},[t._v("Enter user code for a attendance:")])],1),e("div",{staticClass:"flex justify-center items-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.accountDetail.userCode,expression:"accountDetail.userCode"}],staticClass:"py-2 px-5 border-2 rounded-lg w-full mr-4",attrs:{type:"text",placeholder:"User code here..."},domProps:{value:t.accountDetail.userCode},on:{input:function(e){e.target.composing||t.$set(t.accountDetail,"userCode",e.target.value)}}}),e("button",{staticClass:"bg-blue-400 hover:bg-blue-500 px-8 py-2 text-white rounded-lg transition-all",on:{click:t.confirmAccountHandler}},[t._v("Confirm")])])]),t.accountDetail&&t.accountDetail.userCode&&t.accountDetail.fullName?e("div",{staticClass:"bg-gray-100 p-8 rounded-md"},[e("div",{staticClass:"flex items-center mb-2"},[e("h1",{staticClass:"font-bold mr-2"},[t._v("UserCode:")]),e("h1",[t._v(t._s(t.accountDetail.userCode))])]),e("div",{staticClass:"flex items-center mb-2"},[e("h1",{staticClass:"font-bold mr-2"},[t._v("Fullname:")]),e("h1",[t._v(t._s(t.accountDetail.fullName))])]),e("div",{staticClass:"mt-5"},[e("button",{staticClass:"px-3 py-2 bg-blue-400 hover:bg-blue-500 transition-all text-white mr-2 rounded-md w-50",on:{click:function(e){return t.attendanceHandler("checkIn")}}},[t._v(" CheckIn ")]),e("button",{staticClass:"px-3 py-2 bg-blue-400 hover:bg-blue-500 transition-all text-white ml-2 rounded-md w-50",on:{click:function(e){return t.attendanceHandler("checkOut")}}},[t._v(" CheckOut ")])])]):t._e()])])],1)},i=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",[e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Date")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("UserCode")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("TimeIn")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("TimeOut")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("WorkTime")])])])}],n=a(196),l=a(629),o=a(8510),c=a(7398),r=a.n(c),d={data(){return{isLoading:!1,accountDetail:{userCode:""},startDate:null,endDate:null,attendanceList:[]}},methods:{dateFormat:o.Z,async attendanceHandler(t){this.isLoading=!0,await n.ZP.post(`http://localhost:3000/api/v1/attendance/${"checkIn"==t?"checkin":"checkout"}?token=${this.accessToken}`,{userCode:this.accountDetail.userCode}).then((t=>{t.data.status?(this.toastify.success(t.data.msg.en),this.accountDetail={userCode:""}):this.toastify.error(t.data.msg.en)})),this.isLoading=!1},async confirmAccountHandler(){this.isLoading=!0,await n.ZP.get(`http://localhost:3000/api/v1/account/${this.accountDetail.userCode?this.accountDetail.userCode:"null"}/detail?token=${this.accessToken}`).then((t=>{t.data.status?this.accountDetail=t.data.data:this.toastify.error(t.data.msg.en)})),this.isLoading=!1},async getAttendanceHandler(){if(this.isLoading=!0,this.startDate&&this.endDate){const t=this.startDate.split("-")[2],e=this.startDate.split("-")[1],a=this.startDate.split("-")[0],s=this.endDate.split("-")[2],i=this.endDate.split("-")[1],l=this.endDate.split("-")[0],o=`${t}/${e}/${a}`,c=`${s}/${i}/${l}`;await n.ZP.get(`http://localhost:3000/api/v1/attendance/report?dateFrom=${o}&dateTo=${c}&token=${this.accessToken}`).then((t=>{t.data.status?this.attendanceList=t.data.result:this.toastify.error(t.data.msg.en)}))}this.isLoading=!1}},computed:{...(0,l.rn)(["accessToken","payload","toastify"])},components:{Loading:r()}},u=d,p=a(1001),m=(0,p.Z)(u,s,i,!1,null,null,null),h=m.exports}}]);
//# sourceMappingURL=attendance.2fb42ea0.js.map