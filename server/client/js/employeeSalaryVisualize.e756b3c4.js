"use strict";(self["webpackChunkstore_system"]=self["webpackChunkstore_system"]||[]).push([[368],{7553:function(t,e,a){a.r(e),a.d(e,{default:function(){return y}});var s=function(){var t=this,e=t._self._c;return e("main",[e("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),e("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[e("ThemifyIcon",{attrs:{icon:"menu"}}),e("h1",{staticClass:"ml-2"},[t._v("Employee salary")])],1),e("div",{staticClass:"grid grid-cols-3"},[e("div",{staticClass:"col-span-2"},[e("div",{staticClass:"overflow-x-auto relative"},[e("table",{staticClass:"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-4"},[t._m(0),t.dataList.length>0?e("tbody",t._l(t.dataList,(function(a,s){return e("tr",{key:s,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",{staticClass:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",attrs:{scope:"row"}},[t._v(" "+t._s(a.userCode)+" ")]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(a.fullName))]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.priceFormat(a.preSalary)))]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(a.finalWorkTime))]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.priceFormat(a.tempSalary)))])])})),0):t._e()]),t.dataList.length<=0?e("div",{staticClass:"flex w-full justify-center p-8"},[e("h1",{},[t._v("Empty list, there is no data!")])]):t._e()])]),e("div",{staticClass:"px-2"},[e("div",{staticClass:"mb-8"},[e("div",{staticClass:"mb-4 flex items-center text-green-900 font-bold text-md"},[e("ThemifyIcon",{attrs:{icon:"settings"}}),e("h1",{staticClass:"ml-2"},[t._v("Select the start and the end date for detail:")])],1),e("div",{staticClass:"grid grid-cols-2 bg-gray-200 rounded-md mt-5"},[e("div",{staticClass:"flex flex-col p-4"},[e("label",{staticClass:"mb-2 font-bold"},[t._v("Date Start:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],staticClass:"px-3 py-2 rounded-sm focus:outline-none",attrs:{type:"date",placeholder:"dd-mm-yyyy"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})]),e("div",{staticClass:"flex flex-col p-4"},[e("label",{staticClass:"mb-2 font-bold"},[t._v("Date End:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],staticClass:"px-3 py-2 rounded-sm focus:outline-none",attrs:{type:"date",placeholder:"dd-mm-yyyy"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})])]),e("button",{staticClass:"text-white py-2 w-full my-4 rounded-md transition-all",class:{"bg-blue-400 hover:bg-blue-500 cursor-pointer":t.startDate&&t.endDate,"bg-gray-400 cursor-default":!t.startDate||!t.endDate},on:{click:t.visualizeHandler}},[t._v(" Confirm ")])]),t.dataList.length>0?e("div",{staticClass:"mb-8"},[e("div",{staticClass:"mb-4 text-md font-medium text-gray-900 flex items-center"},[e("ThemifyIcon",{attrs:{icon:"settings"}}),e("p",{staticClass:"ml-2"},[t._v("Export to excel file:")])],1),e("div",{staticClass:"flex justify-center items-center transition-all text-white w-full py-2 text-center rounded bg-blue-400 hover:bg-blue-500 cursor-pointer",on:{click:t.exportHandler}},[e("ThemifyIcon",{attrs:{icon:"export"}}),e("button",{staticClass:"ml-2"},[t._v("Export")])],1)]):t._e()])])],1)},l=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",[e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("User code")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Full name")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Basic salary")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Work time")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Total Salary")])])])}],i=a(196),r=a(629),o=a(8510),n=a(1876),c=a(7398),d=a.n(c),p={data(){return{isLoading:!1,startDate:null,endDate:null,dataList:[]}},methods:{dateFormat:o.Z,priceFormat:n.Z,async visualizeHandler(){if(this.startDate&&this.endDate){this.isLoading=!0;const t=this.startDate.split("-")[2],e=this.startDate.split("-")[1],a=this.startDate.split("-")[0],s=this.endDate.split("-")[2],l=this.endDate.split("-")[1],r=this.endDate.split("-")[0],o=`${t}/${e}/${a}`,n=`${s}/${l}/${r}`;await i.ZP.get(`http://localhost:3000/api/v1/employee/salary/visualize/?dateFrom=${o}&dateTo=${n}&token=${this.accessToken}`).then((t=>{t.data.status&&t.data.result.length>0&&(this.dataList=t.data.result)})),this.isLoading=!1}},async exportHandler(){const t=this.startDate.split("-")[2],e=this.startDate.split("-")[1],a=this.startDate.split("-")[0],s=this.endDate.split("-")[2],l=this.endDate.split("-")[1],r=this.endDate.split("-")[0],o=`${t}/${e}/${a}`,n=`${s}/${l}/${r}`;await(0,i.ZP)({url:`http://localhost:3000/api/v1/employee/salary/visualize/export?dateFrom=${o}&dateTo=${n}&token=${this.accessToken}`,method:"GET",responseType:"blob"}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e;const s=`employee-salary-reports-${o}-${n}-${Date.now()}.xlsx`;a.setAttribute("download",s),a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),a.remove()}))}},computed:{...(0,r.rn)(["accessToken","payload","toastify"])},components:{Loading:d()}},u=p,m=a(1001),h=(0,m.Z)(u,s,l,!1,null,null,null),y=h.exports},1876:function(t,e,a){function s(t){if(t&&t>=1e6){let e=Math.floor(t/1e6),a=Math.floor(t%1e6/1e3),s=Math.floor(t%1e6%1e3);return a=a<100?a<10?`00${a}`:`0${a}`:a,s=s<100?s<10?`00${s}`:`0${s}`:s,`${e},${a},${s} vnđ`}if(t&&t<1e6){let e=Math.floor(t/1e3),a=Math.floor(t)%1e3;return a=a<100?a<10?`00${a}`:`0${a}`:a,`${e},${a} vnđ`}return"0 vnđ"}a.d(e,{Z:function(){return s}})}}]);
//# sourceMappingURL=employeeSalaryVisualize.e756b3c4.js.map