"use strict";(self["webpackChunkstore_system"]=self["webpackChunkstore_system"]||[]).push([[922],{9834:function(t,a,s){s.r(a),s.d(a,{default:function(){return y}});var e=function(){var t=this,a=t._self._c;return a("main",[a("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),a("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[a("ThemifyIcon",{attrs:{icon:"menu"}}),a("h1",{staticClass:"ml-2"},[t._v("List of all products")])],1),a("div",{staticClass:"overflow-x-auto relative"},[a("table",{staticClass:"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-4"},[t._m(0),t.productsData.result&&t.productsData.result.perPage>0?a("tbody",t._l(t.productsData.result.data,(function(s,e){return a("tr",{key:e,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[a("th",{staticClass:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",attrs:{scope:"row"}},[t._v(" "+t._s(s.barcode)+" ")]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.productName))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.supplierName))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.quantity))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.priceFormat(s.unitCost)))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(s.updatedAt)))]),a("td",{staticClass:"py-4 px-6",on:{click:function(a){return t.handleDelete(s.barcode)}}},[a("div",{staticClass:"text-red-500 cursor-pointer"},[a("ThemifyIcon",{attrs:{icon:"trash"}}),t._v("Delete")],1)])])})),0):t._e()]),!t.productsData.result||t.productsData.result.perPage<=0?a("div",{staticClass:"flex w-full justify-center p-8"},[a("h1",{},[t._v("Empty list, there is no data!")])]):t._e(),t.productsData.result&&t.productsData.result.perPage>0?a("div",{staticClass:"flex items-center"},[t.productsData&&1!=t.productsData.currentPage?a("button",{staticClass:"underline px-2 py-1 rounded-full",on:{click:function(a){return t.pagePagination(t.productsData.currentPage-1)}}},[t._v(" Previous ")]):t._e(),a("p",{staticClass:"px-2 py-4 font-bold"},[t._v(t._s(`${t.productsData.currentPage}/${t.productsData.pageTotal}`))]),t.productsData&&t.productsData.currentPage<t.productsData.pageTotal?a("button",{staticClass:"underline px-2 py-1 rounded-full",on:{click:function(a){return t.pagePagination(t.productsData.currentPage+1)}}},[t._v(" Next ")]):t._e()]):t._e()])],1)},r=[function(){var t=this,a=t._self._c;return a("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[a("tr",[a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Barcode")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Product name")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Supplier")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Quantity")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Unit cost")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Last modified")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Action")])])])}],i=(s(7658),s(196)),l=s(7973),o=s(629),c=s(8510),n=s(1876),p=s(7398),u=s.n(p),d={data(){return{isLoading:!1,productsData:{currentPage:null,msg:null,pageTotal:null,result:null,status:null,statusCode:null,totalProducts:null}}},async mounted(){this.fetchData()},methods:{dateFormat:c.Z,priceFormat:n.Z,pagePagination(t){this.$router.push(`/dashboard/product-list?page=${t}`),this.fetchData(),this.isLoading=!1},async fetchData(t=1){this.isLoading=!0;let a=this.$route.query?parseInt(this.$route.query.page):t;await i.ZP.get(`http://localhost:3000/api/v1/product/get-all?page=${a}&token=${this.accessToken}`).then((t=>{t.data.status&&!!t.data.result.perPage?this.productsData=t.data:this.productsData={currentPage:null,msg:null,pageTotal:null,result:null,status:null,statusCode:null,totalProducts:null}})),this.isLoading=!1},async handleDelete(t=null){this.isLoading=!0,console.log(t),await i.ZP["delete"](`http://localhost:3000/api/v1/product/delete/${t}?token=${this.accessToken}`).then((t=>{t.data.status,this.toastify.success(t.data.msg.en)})).catch((t=>{this.toastify.success(t.response.data.msg.en)})),this.isLoading=!1,this.fetchData()}},computed:{...(0,o.rn)(["accessToken","toastify"])},components:{ThemifyIcon:l.Z,Loading:u()}},h=d,g=s(1001),f=(0,g.Z)(h,e,r,!1,null,null,null),y=f.exports},8903:function(t,a,s){s.r(a),s.d(a,{default:function(){return y}});var e=function(){var t=this,a=t._self._c;return a("main",[a("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),a("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[a("ThemifyIcon",{attrs:{icon:"menu"}}),a("h1",{staticClass:"ml-2"},[t._v("List of all suppliers:")])],1),a("div",{staticClass:"overflow-x-auto relative"},[a("table",{staticClass:"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-4"},[t._m(0),t.supplierList.length>0?a("tbody",t._l(t.supplierList,(function(s,e){return a("tr",{key:e,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[a("th",{staticClass:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",attrs:{scope:"row"}},[t._v(" "+t._s(s.supplier.supplierCode)+" ")]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.supplier.supplierName))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.supplier.phoneNumer))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.supplier.address))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.productRefs.total))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(s.supplier.createdAt)))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(s.supplier.updatedAt)))]),a("td",{staticClass:"py-4 px-6",on:{click:function(a){return t.handleDelete(s.supplier.supplierCode)}}},[a("div",{staticClass:"text-red-500 cursor-pointer"},[a("ThemifyIcon",{attrs:{icon:"trash"}}),t._v("Delete")],1)])])})),0):t._e()]),t.supplierList.length<=0?a("div",{staticClass:"flex w-full justify-center p-8"},[a("h1",{},[t._v("Empty list, there is no data!")])]):t._e(),t.supplierList.length>0?a("div",{staticClass:"flex items-center"},[1!=t.pageData.currentPage?a("button",{staticClass:"underline px-2 py-1 rounded-full",on:{click:function(a){return t.pagePagination(t.pageData.currentPage-1)}}},[t._v("Previous")]):t._e(),a("p",{staticClass:"px-2 py-4 font-bold"},[t._v(t._s(`${t.pageData.currentPage}/${t.pageData.pageTotal}`))]),t.pageData.currentPage<t.pageData.pageTotal?a("button",{staticClass:"underline px-2 py-1 rounded-full",on:{click:function(a){return t.pagePagination(t.pageData.currentPage+1)}}},[t._v(" Next ")]):t._e()]):t._e()])],1)},r=[function(){var t=this,a=t._self._c;return a("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[a("tr",[a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Supplier code")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Supplier name")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Phone number")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Address")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Products amount")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Co.operation date")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Last modified")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Action")])])])}],i=(s(7658),s(196)),l=s(7973),o=s(629),c=s(8510),n=s(1876),p=s(7398),u=s.n(p),d={data(){return{isLoading:!1,supplierList:[],pageData:{currentPage:1,pageTotal:0}}},async mounted(){this.fetchData()},methods:{dateFormat:c.Z,priceFormat:n.Z,pagePagination(t){this.$router.push(`/dashboard/supplier-list?page=${t}`),this.fetchData(),this.isLoading=!1},async fetchData(t=1){this.isLoading=!0;let a=this.$route.query?parseInt(this.$route.query.page):t;await i.ZP.get(`http://localhost:3000/api/v1/supplier/get-all?page=${a}&token=${this.accessToken}`).then((t=>{t.data.status&&!!t.data.result.perPage?(console.log(t.data),this.supplierList=t.data.result.data,this.pageData.currentPage=t.data.currentPage,this.pageData.pageTotal=t.data.pageTotal):this.productsData=[]})),this.isLoading=!1},async handleDelete(t=null){this.isLoading=!0,await i.ZP["delete"](`http://localhost:3000/api/v1/supplier/delete/${encodeURIComponent(t)}?token=${this.accessToken}`).then((t=>{t.data.status?this.toastify.success(t.data.msg.en):this.toastify.error(t.data.msg.en)})).catch((t=>{this.toastify.error(t.response.data.msg.en)})),this.isLoading=!1,this.fetchData()}},computed:{...(0,o.rn)(["accessToken","toastify"])},components:{ThemifyIcon:l.Z,Loading:u()}},h=d,g=s(1001),f=(0,g.Z)(h,e,r,!1,null,null,null),y=f.exports},1876:function(t,a,s){function e(t){if(t&&t>=1e6){let a=Math.floor(t/1e6),s=Math.floor(t%1e6/1e3),e=Math.floor(t%1e6%1e3);return s=s<100?s<10?`00${s}`:`0${s}`:s,e=e<100?e<10?`00${e}`:`0${e}`:e,`${a},${s},${e} vnđ`}if(t&&t<1e6){let a=Math.floor(t/1e3),s=Math.floor(t)%1e3;return s=s<100?s<10?`00${s}`:`0${s}`:s,`${a},${s} vnđ`}return"0 vnđ"}s.d(a,{Z:function(){return e}})}}]);
//# sourceMappingURL=dashboardProduct.91da9add.js.map