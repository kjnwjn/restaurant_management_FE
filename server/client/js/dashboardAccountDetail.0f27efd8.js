"use strict";(self["webpackChunkstore_system"]=self["webpackChunkstore_system"]||[]).push([[985],{2799:function(t,a,e){e.r(a),e.d(a,{default:function(){return b}});var o=function(){var t=this,a=t._self._c;return a("main",[a("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),a("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[a("ThemifyIcon",{attrs:{icon:"menu"}}),a("h1",{staticClass:"ml-2"},[t._v("Account management")])],1),a("div",{staticClass:"mb-6"},[a("div",{staticClass:"mb-6 text-md font-medium text-gray-900 flex items-center"},[a("ThemifyIcon",{attrs:{icon:"settings"}}),a("p",{staticClass:"ml-2"},[t._v("Detail of account:")])],1),a("div",{staticClass:"grid gap-6 mb-6 grid-cols-2"},[a("div",[a("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[t._v("User code")]),a("input",{staticClass:"bg-gray-200 border border-gray-300 text-gray-500 text-sm rounded-lg block w-full p-2.5",attrs:{disabled:""},domProps:{value:t.accountData.userCode}})]),a("div",[a("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[t._v("Full name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountData.fullName,expression:"accountData.fullName"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",attrs:{placeholder:"Fullname",type:"text"},domProps:{value:t.accountData.fullName},on:{input:function(a){a.target.composing||t.$set(t.accountData,"fullName",a.target.value)}}})]),a("div",[a("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountData.email,expression:"accountData.email"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",attrs:{type:"email",placeholder:"example@example.com"},domProps:{value:t.accountData.email},on:{input:function(a){a.target.composing||t.$set(t.accountData,"email",a.target.value)}}})]),a("div",[a("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[t._v("Phone number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountData.phoneNumber,expression:"accountData.phoneNumber"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",attrs:{type:"tel",pattern:"[0-9]{4}-[0-9]{3}-[0-9]{3}",placeholder:"0123-456-789"},domProps:{value:t.accountData.phoneNumber},on:{input:function(a){a.target.composing||t.$set(t.accountData,"phoneNumber",a.target.value)}}})]),a("div",[a("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[t._v("Role")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.accountData.role,expression:"accountData.role"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.accountData,"role",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"MANAGER"},domProps:{selected:"MANAGER"==t.accountData.role}},[t._v("MANAGER")]),a("option",{attrs:{value:"STAFF"},domProps:{selected:"STAFF"==t.accountData.role}},[t._v("STAFF")])])]),a("div",[a("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[t._v("Last login")]),a("input",{staticClass:"bg-gray-200 border border-gray-300 text-gray-500 text-sm rounded-lg block w-full p-2.5",attrs:{disabled:""},domProps:{value:t.dateFormat(t.accountData.lastLogin)}})])]),a("button",{staticClass:"text-white transition-all bg-blue-400 hover:bg-blue-500 focus:outline-none font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center",attrs:{type:"submit"},on:{click:t.updateHandler}},[t._v(" Update ")])])],1)},l=[],s=e(196),n=e(7973),r=e(629),u=e(7398),c=e.n(u),i=e(8510),m={components:{ThemifyIcon:n.Z,Loading:c()},data(){return{isLoading:!1,accountData:{userCode:null,fullName:null,role:null,email:null,phoneNumber:null,lastLogin:null}}},async mounted(){this.fetchData()},methods:{dateFormat:i.Z,async updateHandler(){this.isLoading=!0,await s.ZP.put(`http://localhost:3000/api/v1/account/${encodeURIComponent(this.$route.params.userCode)}/update?token=${this.accessToken}`,{email:this.accountData.email,fullName:this.accountData.fullName,phoneNumber:this.accountData.phoneNumber,role:this.accountData.role}).then((t=>{t.data.status?this.toastify.success(t.data.msg.en):this.toastify.error(t.data.msg.en)})),this.isLoading=!1,this.fetchData()},async fetchData(){this.isLoading=!0,await s.ZP.get(`http://localhost:3000/api/v1/account/${encodeURIComponent(this.$route.params.userCode)}/detail?token=${this.accessToken}`).then((t=>{t.data.status&&t.data.data?this.accountData=t.data.data:this.accountData={userCode:null,fullName:null,role:null,email:null,phoneNumber:null,lastLogin:null}})),this.isLoading=!1}},computed:{...(0,r.rn)(["accessToken","payload","toastify"])}},d=m,g=e(1001),p=(0,g.Z)(d,o,l,!1,null,null,null),b=p.exports}}]);
//# sourceMappingURL=dashboardAccountDetail.0f27efd8.js.map