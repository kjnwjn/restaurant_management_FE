"use strict";(self["webpackChunkstore_system"]=self["webpackChunkstore_system"]||[]).push([[326],{9996:function(t,s,a){a.r(s),a.d(s,{default:function(){return _}});var e=function(){var t=this,s=t._self._c;return s("main",[s("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),s("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[s("ThemifyIcon",{attrs:{icon:"menu"}}),s("h1",{staticClass:"ml-2"},[t._v("Accounts list")])],1),s("div",{staticClass:"overflow-x-auto relative"},[s("table",{staticClass:"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400"},[t._m(0),t.accountList&&t.accountList.data.length>0?s("tbody",t._l(t.accountList.data,(function(a,e){return s("tr",{key:e,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[s("router-link",{attrs:{to:"/dashboard/account/"+a.userCode+"/detail"}},[s("th",{staticClass:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",attrs:{scope:"row"}},[t._v(" "+t._s(a.userCode)+" ")])]),s("td",{staticClass:"py-4 px-6"},[t._v(t._s(a.fullName))]),s("td",{staticClass:"py-4 px-6"},[t._v(t._s(a.email))]),s("td",{staticClass:"py-4 px-6"},[t._v(t._s(a.phoneNumber))]),s("td",{staticClass:"py-4 px-6"},[t._v(t._s(a.role))]),s("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(a.createdAt)))]),s("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(a.updatedAt)))]),s("td",{staticClass:"py-4 px-6",on:{click:function(s){return t.accountRemoveHandler(a.userCode)}}},[s("div",{staticClass:"text-red-500 cursor-pointer"},[s("ThemifyIcon",{attrs:{icon:"trash"}}),t._v("Delete")],1)])],1)})),0):t._e()])])],1)},c=[function(){var t=this,s=t._self._c;return s("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[s("tr",[s("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("User code")]),s("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Fullname")]),s("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Email")]),s("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Phone")]),s("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Role")]),s("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Created At")]),s("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Last modified")]),s("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Action")])])])}],o=a(196),i=a(7973),r=a(629),l=a(7398),n=a.n(l),d=a(8510),p={data(){return{isLoading:!0,accountList:null}},async mounted(){this.fetchData()},methods:{dateFormat:d.Z,async fetchData(){this.isLoading=!0,await o.ZP.get(`http://localhost:3000/api/v1/account/get-all?token=${this.accessToken}`).then((t=>{t.data.status&&(this.accountList=t.data.result)})),this.isLoading=!1},async accountRemoveHandler(t){this.isLoading=!0,await o.ZP["delete"](`http://localhost:3000/api/v1/account/disable/${t}?token=${this.accessToken}`).then((t=>{t.data.status?this.toastify.success(t.data.msg.en):this.toastify.error(t.data.msg.en)})),this.fetchData(),this.isLoading=!1}},computed:{...(0,r.rn)(["accessToken","toastify"])},components:{ThemifyIcon:i.Z,Loading:n()}},u=p,h=a(1001),y=(0,h.Z)(u,e,c,!1,null,null,null),_=y.exports}}]);
//# sourceMappingURL=dashboardAccount.45f69bf3.js.map