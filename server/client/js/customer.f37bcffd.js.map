{"version":3,"file":"js/customer.f37bcffd.js","mappings":"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","sources":["webpack://store-system/./src/views/dashboard/CustomerView.vue","webpack://store-system/src/views/dashboard/CustomerView.vue","webpack://store-system/./src/views/dashboard/CustomerView.vue?5576","webpack://store-system/./src/views/dashboard/CustomerView.vue?36c1"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('main',[_c('Loading',{attrs:{\"active\":_vm.isLoading,\"is-full-page\":true,\"can-cancel\":false}}),_c('div',{staticClass:\"flex items-center mb-4 text-green-700 font-bold text-lg uppercase\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"menu\"}}),_c('h1',{staticClass:\"ml-2\"},[_vm._v(\"Customer system\")])],1),_c('div',{staticClass:\"flex items-center mb-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customerIDToSearch),expression:\"customerIDToSearch\"}],staticClass:\"w-full px-3 py-2 border\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter customer ID for searching...\"},domProps:{\"value\":(_vm.customerIDToSearch)},on:{\"input\":function($event){if($event.target.composing)return;_vm.customerIDToSearch=$event.target.value}}}),_c('button',{staticClass:\"text-white px-4 py-2 rounded-md ml-4 transition-all\",class:{\n                'bg-blue-400 hover:bg-blue-500 cursor-pointer': _vm.customerIDToSearch,\n                'bg-gray-400 cursor-default': !_vm.customerIDToSearch,\n            },on:{\"click\":_vm.customerSearchingHandler}},[_vm._v(\" Search \")])]),_c('div',{staticClass:\"grid grid-cols-3\"},[_c('div',{staticClass:\"col-span-2\"},[_c('div',{staticClass:\"overflow-x-auto relative\"},[_c('table',{staticClass:\"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-4\"},[_vm._m(0),(_vm.customerList.length > 0)?_c('tbody',_vm._l((_vm.customerList),function(customer,i){return _c('tr',{key:i,staticClass:\"bg-white border-b dark:bg-gray-800 dark:border-gray-700\"},[_c('th',{staticClass:\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\",attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(customer.customerID))]),_c('td',{staticClass:\"py-4 px-6\"},[_vm._v(_vm._s(customer.fullName))]),_c('td',{staticClass:\"py-4 px-6\"},[_vm._v(_vm._s(customer.point))]),_c('td',{staticClass:\"py-4 px-6\"},[_vm._v(_vm._s(_vm.dateFormat(customer.createdAt)))]),_c('td',{staticClass:\"py-4 px-6\"},[_vm._v(_vm._s(_vm.dateFormat(customer.updatedAt)))])])}),0):_vm._e()]),(_vm.customerList.length <= 0)?_c('div',{staticClass:\"flex w-full justify-center p-8\"},[_c('h1',{},[_vm._v(\"Empty list, there is no data!\")])]):_vm._e()])]),_c('div',{staticClass:\"px-4\"},[_c('div',{staticClass:\"mb-4 flex items-center text-green-900 font-bold text-xl\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"settings\"}}),_c('h1',{staticClass:\"ml-2\"},[_vm._v(\"Create new customer\")])],1),_c('div',{staticClass:\"mb-6\"},[_c('label',{staticClass:\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\"},[_vm._v(\"Phone number\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customer.customerID),expression:\"customer.customerID\"}],staticClass:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\",attrs:{\"type\":\"tel\",\"placeholder\":\"0123-456-789\",\"pattern\":\"[0-9]{4}-[0-9]{3}-[0-9]{3}\"},domProps:{\"value\":(_vm.customer.customerID)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.customer, \"customerID\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-6\"},[_c('label',{staticClass:\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\"},[_vm._v(\"Full name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customer.fullName),expression:\"customer.fullName\"}],staticClass:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\",attrs:{\"type\":\"text\",\"placeholder\":\"Mr.Jone\"},domProps:{\"value\":(_vm.customer.fullName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.customer, \"fullName\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-6\"},[_c('button',{staticClass:\"py-3 w-full text-white rounded-md uppercase transition-all\",class:{\n                        'bg-blue-400 hover:bg-blue-500 cursor-pointer': _vm.customer.customerID && _vm.customer.fullName,\n                        'bg-gray-400 cursor-default': !_vm.customer.customerID || !_vm.customer.fullName,\n                    },on:{\"click\":_vm.newCustomerHandler}},[_vm._v(\" New Customer \")])])])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',{staticClass:\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\"},[_c('tr',[_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Customer ID\")]),_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Fullname\")]),_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Point\")]),_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Created at\")]),_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Last modified\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <main>\n        <Loading :active=\"isLoading\" :is-full-page=\"true\" :can-cancel=\"false\" />\n        <div class=\"flex items-center mb-4 text-green-700 font-bold text-lg uppercase\">\n            <ThemifyIcon icon=\"menu\" />\n            <h1 class=\"ml-2\">Customer system</h1>\n        </div>\n        <div class=\"flex items-center mb-6\">\n            <input v-model=\"customerIDToSearch\" class=\"w-full px-3 py-2 border\" type=\"text\" placeholder=\"Enter customer ID for searching...\" />\n            <button\n                v-on:click=\"customerSearchingHandler\"\n                class=\"text-white px-4 py-2 rounded-md ml-4 transition-all\"\n                :class=\"{\n                    'bg-blue-400 hover:bg-blue-500 cursor-pointer': customerIDToSearch,\n                    'bg-gray-400 cursor-default': !customerIDToSearch,\n                }\"\n            >\n                Search\n            </button>\n        </div>\n        <div class=\"grid grid-cols-3\">\n            <div class=\"col-span-2\">\n                <div class=\"overflow-x-auto relative\">\n                    <table class=\"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-4\">\n                        <thead class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\n                            <tr>\n                                <th scope=\"col\" class=\"py-3 px-6\">Customer ID</th>\n                                <th scope=\"col\" class=\"py-3 px-6\">Fullname</th>\n                                <th scope=\"col\" class=\"py-3 px-6\">Point</th>\n                                <th scope=\"col\" class=\"py-3 px-6\">Created at</th>\n                                <th scope=\"col\" class=\"py-3 px-6\">Last modified</th>\n                            </tr>\n                        </thead>\n                        <tbody v-if=\"customerList.length > 0\">\n                            <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700\" v-for=\"(customer, i) in customerList\" :key=\"i\">\n                                <th scope=\"row\" class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\">{{ customer.customerID }}</th>\n                                <td class=\"py-4 px-6\">{{ customer.fullName }}</td>\n                                <td class=\"py-4 px-6\">{{ customer.point }}</td>\n                                <td class=\"py-4 px-6\">{{ dateFormat(customer.createdAt) }}</td>\n                                <td class=\"py-4 px-6\">{{ dateFormat(customer.updatedAt) }}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <div v-if=\"customerList.length <= 0\" class=\"flex w-full justify-center p-8\">\n                        <h1 class=\"\">Empty list, there is no data!</h1>\n                    </div>\n                </div>\n            </div>\n            <div class=\"px-4\">\n                <div class=\"mb-4 flex items-center text-green-900 font-bold text-xl\">\n                    <ThemifyIcon icon=\"settings\" />\n                    <h1 class=\"ml-2\">Create new customer</h1>\n                </div>\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\">Phone number</label>\n                    <input\n                        v-model=\"customer.customerID\"\n                        type=\"tel\"\n                        class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n                        placeholder=\"0123-456-789\"\n                        pattern=\"[0-9]{4}-[0-9]{3}-[0-9]{3}\"\n                    />\n                </div>\n                <div class=\"mb-6\">\n                    <label class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300\">Full name</label>\n                    <input\n                        v-model=\"customer.fullName\"\n                        type=\"text\"\n                        class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n                        placeholder=\"Mr.Jone\"\n                    />\n                </div>\n                <div class=\"mb-6\">\n                    <button\n                        v-on:click=\"newCustomerHandler\"\n                        class=\"py-3 w-full text-white rounded-md uppercase transition-all\"\n                        :class=\"{\n                            'bg-blue-400 hover:bg-blue-500 cursor-pointer': customer.customerID && customer.fullName,\n                            'bg-gray-400 cursor-default': !customer.customerID || !customer.fullName,\n                        }\"\n                    >\n                        New Customer\n                    </button>\n                </div>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState } from \"vuex\";\nimport dateFormat from \"../../helpers/dateFormat\";\nimport ThemifyIcon from \"vue-themify-icons/ThemifyIcon.vue\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/vue-loading.css\";\n\nexport default {\n    data() {\n        return {\n            isLoading: true,\n            customerList: [],\n            customer: {\n                customerID: null,\n                fullName: null,\n            },\n            customerIDToSearch: null,\n        };\n    },\n    mounted() {\n        this.fetchData();\n    },\n    methods: {\n        dateFormat,\n        async fetchData() {\n            this.isLoading = true;\n            await axios.get(`${process.env.VUE_APP_API_URL}/customer/get-all?token=${this.accessToken}`).then((res) => {\n                if (res.data.status) {\n                    this.customerList = res.data.data;\n                }\n            });\n            this.isLoading = false;\n        },\n        async newCustomerHandler() {\n            this.isLoading = true;\n            await axios\n                .post(`${process.env.VUE_APP_API_URL}/customer/new?token=${this.accessToken}`, {\n                    customerID: this.customer.customerID,\n                    fullName: this.customer.fullName,\n                })\n                .then((res) => {\n                    if (res.data.status) {\n                        this.toastify.success(res.data.msg.en);\n                        this.customer = { customerID: null, fullName: null };\n                    } else {\n                        this.toastify.error(res.data.msg.en);\n                    }\n                });\n            this.fetchData();\n            this.isLoading = false;\n        },\n        async customerSearchingHandler() {\n            await axios.get(`${process.env.VUE_APP_API_URL}/customer/detail?customerID=${this.customerIDToSearch}&token=${this.accessToken}`).then((res) => {\n                if (res.data.status) {\n                    this.toastify.success(res.data.msg.en);\n                    this.customerList = [res.data.data];\n                } else {\n                    this.toastify.error(res.data.msg.en);\n                }\n            });\n        },\n    },\n    components: { ThemifyIcon, Loading },\n    computed: {\n        ...mapState([\"accessToken\", \"payload\", \"toastify\"]),\n    },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomerView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomerView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerView.vue?vue&type=template&id=2f9bfc77&\"\nimport script from \"./CustomerView.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","isLoading","staticClass","_v","directives","name","rawName","value","customerIDToSearch","expression","domProps","on","$event","target","composing","class","customerSearchingHandler","_m","customerList","length","_l","customer","i","key","_s","customerID","fullName","point","dateFormat","createdAt","updatedAt","_e","$set","newCustomerHandler","staticRenderFns","data","mounted","methods","post","then","components","ThemifyIcon","Loading","computed","component"],"sourceRoot":""}